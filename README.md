## Paper Review: Segmentation of Brain MRI Tumors by MedSAM with Prompts Generated by Object Detection
**Zhou & Yu, AINIT 2024**  
DOI: https://doi.org/10.1109/AINIT61980.2024.10581523

---

### 1. Research Purpose
YOLOv5로부터 생성된 바운딩 박스를 프롬프트로 활용하여 MedSAM의 성능을 향상시키는 것을 목표로 함. 이를 통해 뇌종양 MRI 이미지 분할의 정밀도를 높이고자 하였다.

---

### 2. Methodology

- **Dataset**  
  BraTS 2023의 다중 모달 MRI 데이터 802 케이스 사용 (T1c, T2w, T2f)

- **Preprocessing**  
  - NIfTI → PNG 변환 (정규화 및 3채널 구성)
  - 바운딩 박스 라벨을 YOLO 포맷으로 저장

- **Object Detection (YOLOv5)**  
  - 모델: YOLOv5s, YOLOv5l  
  - 학습 설정: 100 epochs, learning rate=0.01, optimizer=SGD  
  - 성능: YOLOv5l이 더 높은 mAP과 precision 기록

- **Segmentation (MedSAM Fine-Tuning)**  
  - Image Encoder, Prompt Encoder는 freeze  
  - Mask Decoder만 미세조정  
  - Optimizer: AdamW  
  - Loss Function: Dice Loss (MONAI) + BCEWithLogitsLoss 사용

```python
# Total Loss 구성
L_total = L_dice + L_bce

# Dice Loss
L_dice = 1 - (2 * ∑(p_i * g_i)) / (∑p_i^2 + ∑g_i^2)

# Binary Cross Entropy Loss
L_bce = - (1/N) * ∑[g_i * log(σ(p_i)) + (1 - g_i) * log(1 - σ(p_i))]
